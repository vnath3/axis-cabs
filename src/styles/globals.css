@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light; }
html { scroll-behavior: smooth; }

body { @apply bg-bg text-text antialiased font-sans; }

/* Card */
.card { @apply rounded-2xl bg-white shadow-soft p-6; }

/* ===== Axis Cabs â€” Design Tokens ===== */
:root {
  /* Brand */
  --ac-brand: #ea580c;           /* orange-600 */
  --ac-brand-hover: #c2410c;     /* orange-700 */

  /* Text */
  --ac-text: #0f172a;            /* slate-900 */
  --ac-text-muted: #475569;      /* slate-600 */

  /* Surfaces */
  --ac-surface: #ffffff;
  --ac-border: #e5e7eb;          /* gray-200 */
}

/* Typography helpers */
.h3 { @apply text-xl md:text-2xl font-semibold; color: var(--ac-text); }
.p  { @apply text-sm md:text-base; color: var(--ac-text-muted); }

/* ===== Buttons â€” single source of truth =====
   Backward compatible: base styles apply to .btn and to variant classes
   so old markup that only uses .btn-primary keeps rounded corners/padding.
*/
.btn,
.btn-primary,
.btn-ghost,
.btn-outline {
  @apply inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm font-semibold
         transition duration-200 focus:outline-none focus:ring-2;
}

/* Color variants */
.btn-primary {
  background: var(--ac-brand);
  color: #fff;
}
.btn-primary:hover { background: var(--ac-brand-hover); }

.btn-ghost {
  @apply bg-gray-100;
  color: var(--ac-text);
}
.btn-ghost:hover { @apply bg-gray-200; }

.btn-outline {
  border: 1px solid var(--ac-border);
  background: var(--ac-surface);
  color: var(--ac-text);
}
.btn-outline:hover { @apply bg-gray-50; }

/* ðŸ”» Remove any older .btn-primary that used bg-primary to avoid conflicts */

/* Markdown content styling for narrative blocks */
.md-content { @apply text-base leading-relaxed text-slate-700; }
.md-content h1 { @apply text-2xl md:text-3xl font-bold text-slate-900 mb-4; }
.md-content h2 { @apply text-xl md:text-2xl font-semibold text-slate-900 mt-6 mb-3; }
.md-content h3 { @apply text-lg md:text-xl font-semibold text-slate-900 mt-5 mb-2; }
.md-content p  { @apply mb-3; }
.md-content ul { @apply list-disc pl-5 mb-3; }
.md-content ol { @apply list-decimal pl-5 mb-3; }
.md-content li { @apply mb-1; }
.md-content hr { @apply my-6 border-gray-200; }
.md-content strong { @apply font-semibold text-slate-900; }
.md-content a { @apply underline; }
/* ===== Packages page typography (scoped) ===== */
.ac-pkg { @apply font-sans; }
.ac-pkg h1 { @apply text-3xl md:text-4xl font-bold text-slate-900; }
.ac-pkg h2 { @apply text-xl md:text-2xl font-bold text-slate-900; }
.ac-pkg h3 { @apply text-lg md:text-xl font-semibold text-slate-900; }
.ac-pkg p  { @apply text-base text-slate-700; }
/* Ensure hero text stays white over image overlay */
.ac-pkg .pkg-hero h1 { @apply text-white; }
.ac-pkg .pkg-hero p  { @apply text-white; }
/* ===== Blog page typography (scoped) ===== */
.ac-blog { @apply font-sans; }
.ac-blog .md-content { @apply text-base leading-relaxed text-slate-700; }
.ac-blog .md-content h1 { @apply text-3xl md:text-4xl font-bold text-slate-900 mb-4; }
.ac-blog .md-content h2 { @apply text-2xl md:text-3xl font-semibold text-slate-900 mt-8 mb-3; }
.ac-blog .md-content h3 { @apply text-xl md:text-2xl font-semibold text-slate-900 mt-6 mb-2; }
.ac-blog .md-content p  { @apply mb-4; }
.ac-blog .md-content ul { @apply list-disc pl-5 mb-4; }
.ac-blog .md-content ol { @apply list-decimal pl-5 mb-4; }
.ac-blog .md-content li { @apply mb-1; }
.ac-blog .md-content hr { @apply my-8 border-gray-200; }
.ac-blog .md-content strong { @apply font-semibold text-slate-900; }
.ac-blog .md-content a { color: var(--ac-brand); text-decoration: underline; text-underline-offset: 2px; }
.ac-blog .md-content .intro { @apply text-lg md:text-xl text-slate-700; }
/* Tables in blog content */
.ac-blog .md-content table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
.ac-blog .md-content th, .ac-blog .md-content td { padding: .5rem .75rem; border-bottom: 1px solid #e5e7eb; text-align: left; }
.ac-blog .md-content thead th { color: #0f172a; font-weight: 600; }

/* Reusable chips (used by filters) */
.chip { @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-50 text-slate-700 ring-1 ring-gray-200 hover:bg-gray-100; }
.chip-active { @apply bg-slate-900 text-white ring-slate-900; }
/* Also honor aria-pressed for dynamic toggles */
.chip[aria-pressed="true"] { @apply bg-slate-900 text-white ring-slate-900; }

/* Leaflet popup image sizing */
.leaflet-popup-content .gem-img {
  width: 180px; height: 120px; object-fit: cover; border-radius: 0.5rem; display: block; margin-bottom: 0.375rem;
}

/* Minimal Leaflet CSS fallback so maps render even if CDN CSS fails */
.leaflet-container { position: relative; overflow: hidden; outline: 0; }
.leaflet-pane, .leaflet-tile, .leaflet-marker-icon, .leaflet-marker-shadow,
.leaflet-zoom-box, .leaflet-image-layer, .leaflet-overlay-pane svg,
.leaflet-marker-pane img, .leaflet-shadow-pane img, .leaflet-tile-pane img { position: absolute; left: 0; top: 0; }
.leaflet-pane { z-index: 400; }
.leaflet-tile-pane { z-index: 200; }
.leaflet-overlay-pane { z-index: 400; }
.leaflet-shadow-pane { z-index: 500; }
.leaflet-marker-pane { z-index: 600; }
.leaflet-popup-pane { z-index: 700; }
.leaflet-control { position: absolute; z-index: 800; pointer-events: auto; }
.leaflet-top { top: 0; }
.leaflet-left { left: 0; }
.leaflet-right { right: 0; }
.leaflet-bottom { bottom: 0; }
.leaflet-control-zoom { margin: 10px; }
.leaflet-control-zoom a { width: 28px; height: 28px; line-height: 28px; display: block; text-align: center; background: #fff; border: 1px solid #d1d5db; color: #111827; border-radius: 6px; }
.leaflet-control-attribution { margin: 0; padding: 0 6px; background: rgba(255,255,255,.8); font-size: 12px; }
