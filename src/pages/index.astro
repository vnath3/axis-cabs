---
/* Page: src/pages/index.astro
   Base layout handles <html>, <head>, header/footer wrapper, etc.
   Put page-specific <head> tags inside <Fragment slot="head">.
   Put visible content (hero, forms, etc.) inside the default slot.
*/

import '../styles/globals.css';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import Hero from '@/components/Hero.astro';
import LeadForm from '@/components/LeadForm.astro';
import StickyCTAs from '@/components/StickyCTAs.astro';
import Analytics from '@/components/Analytics.astro';
import JsonLd from '@/components/JsonLd.astro';
import Base from '@/layouts/Base.astro';
import ReviewsSection from '@/components/ReviewsSection.astro';
import FareCalcCard from '@/components/FareCalcCard.astro';
import FareCalculatorModal from '@/components/FareCalculatorModal.astro';
import ItineraryCard from '@/components/ItineraryCard.astro';
import ItineraryModal from '@/components/ItineraryModal.astro';
import DestinationsGrid from "@/components/DestinationsGrid.astro";
import { reviewsAggregate } from "@/data/reviews-aggregate";

const brand = 'Axis Cabs';
// Prefer Astro.site in production; using your current value for now:
const site = 'https://axis-cabs.netlify.app';
---

<Base
  title="Axis Cabs — Ground Travel & Itineraries, Sorted."
  description="Book intercity cabs, itineraries, and hidden gems across India. Transparent fares, professional drivers, 24x7 support."
>
  <!-- Page-specific <head> -->
  <Fragment slot="head">
    <link rel="icon" href="/favicon.svg" />
    <meta property="og:title" content="Axis Cabs" />
    <meta property="og:description" content="Cabs & itineraries across India. Get instant WhatsApp quote." />
    <meta property="og:image" content="/og-default.jpg" />

    <JsonLd data={{
      "@context": "https://schema.org",
      "@type": "TaxiService",
      "name": brand,
      "url": site,
      "areaServed": "India",
      "telephone": "+91 99223 33305",
      "sameAs": [],
      "providerMobility": "Taxi",
      "serviceType": "Intercity cab, tour packages, airport transfers"
    }} />

    <Analytics />
  </Fragment>

  <!-- Visible body -->
  <Header />

  <Hero
    title="Cabs & Itineraries Across India"
    sub="Instant WhatsApp quotes • Transparent fares • 24x7 support"
  />

  

  <!-- Main grid -->
  <main class="mx-auto max-w-6xl px-4 grid md:grid-cols-3 gap-8 items-start">
    <!-- Heading spans all columns -->
    <h2 class="text-xl font-bold mb-0 md:col-span-3">Plan Your Trip</h2>

    <!-- Left: Lead form (2 columns on md+) -->
    <div class="md:col-span-2">
      <LeadForm />
    </div>

    <!-- Right sidebar: 1) Estimate 2) Itinerary -->
    <aside class="space-y-4">
      <!-- 1) Estimate your fare -->
      <FareCalcCard />
      <!-- 2) AI Itinerary generator -->
      <ItineraryCard />
    </aside>
  </main>

  <!-- Modal lives ONCE per page (outside grid) -->
  <FareCalculatorModal />
  <ItineraryModal />

  <StickyCTAs />

  <!-- Destinations & Experiences -->
  <DestinationsGrid mobileCarousel={true} />

  <!-- Reviews (single instance with server-rendered aggregate) -->
  <ReviewsSection brand="Axis Cabs" aggregate={reviewsAggregate} />

  <Footer />
</Base>

